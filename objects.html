<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="node_modules/moment/moment.js"></script>

  
</head>
<body>
  
  <script>
    // para TRUE const tipo_cliente = window.confirm("Cliente Fidelidade?")
    const tipo_cliente = window.prompt('Digite "Regular" ou "Fidelidade":')
    const dataInicial = window.prompt("Digite data Inicial:")
    const dataFinal = window.prompt("Digite data Final:")

    class Reserva{
      constructor(cliente, data_entrada, data_saida){
        this.cliente = tipo_cliente
        this.data_entrada = moment(dataInicial).format("L")  
        this.data_saida = moment(dataFinal).format("L")  
      }
    };

    const pedido1 = new Reserva()

    class Hotel{
      constructor(nome, classe, preco_semana_regular, preco_semana_fidelidade, preco_fds_regular, preco_fds_fidelidade){
        this.nome = nome
        this.classe = classe
        this.preco_semana_regular = preco_semana_regular
        this.preco_semana_fidelidade = preco_semana_fidelidade
        this.preco_fds_regular = preco_fds_regular
        this.preco_fds_fidelidade = preco_fds_fidelidade
      }
    };
      
    const hotel1 = new Hotel("Parque das flores", 3, 110, 80, 90, 80)
    const hotel2 = new Hotel("Jardim Botânico", 4, 160, 110, 60, 50)
    const hotel3 = new Hotel("Mar Atlântico", 5, 220, 100, 150, 40)
    const hoteis = [hotel1, hotel2, hotel3]
    const hoteis_semana_regular = [hoteis[0].preco_semana_regular, hoteis[1].preco_semana_regular, hoteis[2].preco_semana_regular]
    const hoteis_semana_fidelidade = [hoteis[0].preco_semana_fidelidade, hoteis[1].preco_semana_fidelidade, hoteis[2].preco_semana_fidelidade]
    const hoteis_fds_regular = [hoteis[0].preco_fds_regular, hoteis[1].preco_fds_regular, hoteis[2].preco_fds_regular]
    const hoteis_fds_fidelidade = [hoteis[0].preco_fds_fidelidade, hoteis[1].preco_fds_fidelidade, hoteis[2].preco_fds_fidelidade]
    

    console.log(pedido1);
    console.log(hotel1);
    console.log(hotel2);
    console.log(hotel3);
    console.log(hoteis[2].preco_fds_fidelidade);
    console.log(hoteis_semana_regular)
    console.log(hoteis_semana_fidelidade)
    console.log(hoteis_fds_regular)
    console.log(hoteis_fds_fidelidade)

    //separar quantos dias na semana ou fds

    
    
    
      // inicia a semana na segunda com 1 e vai até domingo com 7
      // os dois formatos tem o mesmo resultado
      const week = moment(dataInicial).isoWeekday(); 
      console.log(week);


      //contagem de dias
      var a = moment(pedido1.data_entrada);//now
      var b = moment(pedido1.data_saida);
      //console.log(b.diff(a, 'd')) // 31
      const dias = moment(pedido1.data_saida).diff(pedido1.data_entrada, 'd'); // 31
      console.log(dias);
      
      
   
    
    // Criar função pegar tipo de cliente e multiplica dias por preço

    function retornaHotel(pedido1, hoteis_semana_regular, hoteis_semana_fidelidade, 
                          hoteis_fds_regular, hoteis_fds_fidelidade, dias) {

               
              
                if (pedido1.cliente === 'Regular'){
                    return console.log("Preço Regular semana " + hoteis_semana_regular[0] * dias);
                } else if(pedido1.cliente === 'Fidelidade'){
                    return console.log("Preço Fidelidade semana " + hoteis_semana_fidelidade);
                } else {
                    return console.log("Regular ou Fidelidade ");
                }
            };

      retornaHotel(pedido1, hoteis_semana_regular, hoteis_semana_fidelidade, 
                              hoteis_fds_regular, hoteis_fds_fidelidade, dias);
        
  </script>

</body>
</html>

